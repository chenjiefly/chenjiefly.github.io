<!DOCTYPE HTML>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>CSS知识小记 | chenjiefly的博客</title>
  <meta name="author" content="chenjiefly">
  
  <meta name="description" content="记录了CSS相关的知识点、技巧和常见问题等">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="CSS知识小记"/>
  <meta property="og:site_name" content="chenjiefly的博客"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="chenjiefly的博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

  
<script type="text/javascript">
    var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "//hm.baidu.com/hm.js?b7eade04c61852edaa0158418c6da079";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>


<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">chenjiefly的博客</a></h1>
  <span class="dash">——</span>
  <h2><a href="/">怠慢不能励精，险躁不能冶性</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">主页</a></li>
    
      <li><a href="https://github.com/chenjiefly">Github</a></li>
    
      <li><a href="/archives">归档</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      
        <img src="">
      
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-06-23T08:49:05.000Z"><a href="/2016/06/23/css/">2016-06-23</a></time>
      
      
  
    <h1 class="title">CSS知识小记</h1>
  

    </header>
    <div class="entry">
      
        <div id="toc" class="toc-article">
    <div class="toc-title">本文目录</div>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#使用CSS"><span class="toc-text">使用CSS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用方式"><span class="toc-text">使用方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#链接式和导入式区别"><span class="toc-text">链接式和导入式区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#盒模型"><span class="toc-text">盒模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#标准盒模型和怪异盒模型"><span class="toc-text">标准盒模型和怪异盒模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#margin-外边距叠加"><span class="toc-text">margin 外边距叠加</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#选择器"><span class="toc-text">选择器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#层叠优先级"><span class="toc-text">层叠优先级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#选择器优先级和权重"><span class="toc-text">选择器优先级和权重</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#怪异问题"><span class="toc-text">怪异问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1px-on-retina"><span class="toc-text">1px on retina</span></a></li></ol></li></ol>
</div>
      
        <ul>
<li>记录了CSS相关的知识点、技巧和常见问题等</li>
</ul>
<img src="/2016/06/23/css/logo.jpg" alt="图片来源：google" title="图片来源：google">
<a id="more"></a>
<h2 id="使用CSS"><a href="#使用CSS" class="headerlink" title="使用CSS"></a>使用CSS</h2><h3 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h3><p>1、内联样式表<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"color: sienna; margin-left: 20px"</span>&gt;</span></span><br><span class="line">This is a paragraph</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>2、内嵌（内部）样式表<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span><br><span class="line">  hr &#123;color: sienna;&#125;</span><br><span class="line">  p &#123;margin-left: 20px;&#125;</span><br><span class="line">  body &#123;background-image: url("images/back40.gif");&#125;</span><br><span class="line"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>3、外部样式表 - 链接式<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"mystyle.css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>4、外部样式表 - 导入式<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span><br><span class="line">  @import url(mystyle.css)</span><br><span class="line"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="链接式和导入式区别"><a href="#链接式和导入式区别" class="headerlink" title="链接式和导入式区别"></a>链接式和导入式区别</h3><p>1、类型不同</p>
<ul>
<li><p>加载方式不同</p>
<ul>
<li>链接式使用的是HTML标签<link>，<link>除了加载CSS文件外，还可以定义RSS、rel链接属性等</li>
<li>导入式的@import是CSS提供的方法，只能加载样式表</li>
</ul>
</li>
<li><p>加载顺序不同</p>
<ul>
<li>在页面被加载时，<link>引用的CSS文件会同时被加载，不影响用户体验</li>
<li>@import引用的文件则是等页面下载完才被加载，当网速慢时，容易出现先缺少样式后正常显示的闪烁现象</li>
</ul>
</li>
<li><p>兼容性</p>
<ul>
<li><link>属于HTML标签，没有兼容性问题</li>
<li>@import是CSS2.1提出的所以老的浏览器不支持，@import只有在IE5以上的才能识别</li>
</ul>
</li>
<li><p>使用dom控制样式时的差别</p>
<ul>
<li>当使用javascript控制dom去改变样式的时候，只能使用link标签</li>
<li>@import不是dom可以控制的   </li>
</ul>
</li>
</ul>
<hr>
<h2 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h2><h3 id="标准盒模型和怪异盒模型"><a href="#标准盒模型和怪异盒模型" class="headerlink" title="标准盒模型和怪异盒模型"></a>标准盒模型和怪异盒模型</h3><img src="/2016/06/23/css/boxModel.png" alt="图片来源：MDN" title="图片来源：MDN">
<p>1、标准盒模型</p>
<ul>
<li>标准盒模型在pc端比较常用，因为pc端的屏幕大，有优势可以撑</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">盒子总宽度/高度 = width/height + padding + border + margin</span><br></pre></td></tr></table></figure>
<p>2、怪异盒模型</p>
<ul>
<li>怪异盒模型在手机端比较常用，因为手机屏幕是有限大小的，有时需要使用怪异盒模型把它固定住</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">盒子总宽度/高度 = width/height + margin = 内容区宽度/高度 + padding + border + margin</span><br></pre></td></tr></table></figure>
<p>3、使用<code>box-sizing</code>决定盒模型类型</p>
<ul>
<li>CSS3属性<code>box-sizing</code>可以决定采用哪种盒模型，它有两个值一个是<code>content-box</code>，另一个是<code>border-box</code></li>
<li>当设置为<code>box-sizing:content-box</code>时<ul>
<li>将采用标准模式解析计算，也是默认模式</li>
<li><code>width</code>, <code>min-width</code>, <code>max-width</code>, <code>height</code>, <code>min-height</code> 与 <code>max-height</code> 控制内容大小</li>
</ul>
</li>
<li>当设置为<code>box-sizing:border-box</code>时，将采用怪异模式解析计算</li>
</ul>
<h3 id="margin-外边距叠加"><a href="#margin-外边距叠加" class="headerlink" title="margin 外边距叠加"></a>margin 外边距叠加</h3><p>1、现象描述</p>
<ul>
<li>当两个或更多个垂直边距相遇时，它们将形成一个外边距</li>
<li>这个外边距的高度等于两个发生叠加的外边距的高度中的较大者</li>
<li>只有普通文档流中块框的垂直外边距才会发生外边距叠加</li>
<li>行内框、浮动框或绝对定位框之间的外边距不会叠加</li>
</ul>
<p>2、三种发生情况</p>
<ul>
<li>元素自身叠加<ul>
<li>当元素没有内容（即空元素）、内边距、边框时，它的上下边距就相遇了，即会产生叠加（垂直方向）</li>
<li>当为元素添加内容、内边距、边框任何一项，就会取消叠加</li>
</ul>
</li>
<li>相邻元素叠加<ul>
<li>相邻的两个元素，如果它们的上下边距相遇，即会产生叠加</li>
</ul>
</li>
<li>包含（父子）元素叠加<ul>
<li>包含元素的外边距隔着父元素的内边距和边框，当这两项都不存在的时候，父子元素垂直外边距相邻，产生叠加</li>
<li>添加任何一项即会取消叠加</li>
</ul>
</li>
</ul>
<hr>
<h2 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h2><h3 id="层叠优先级"><a href="#层叠优先级" class="headerlink" title="层叠优先级"></a>层叠优先级</h3><p>1、默认优先级</p>
<ul>
<li>内联式（行内） &gt; 内嵌（内部） &gt; 外部 &gt; 浏览器缺省，但是内嵌 &gt; 外部</li>
<li>有一个前提：内嵌css样式的位置一定在外部式的后面。</li>
</ul>
<p>2、就近原则<br>离被设置元素越近优先级别越高，<em>但注意上面所总结的优先级是有一个前提：内联式、嵌入式、外部式样式表中css样式是在的相同权值的情况下</em>。</p>
<h3 id="选择器优先级和权重"><a href="#选择器优先级和权重" class="headerlink" title="选择器优先级和权重"></a>选择器优先级和权重</h3><p>1、选择器优先级<br>important &gt; 内联 &gt; ID &gt; 类 &gt; 标签 | 伪类 | 属性选择 &gt; 伪对象 &gt; 继承 &gt; 通配符</p>
<p>2、选择器权重值计算</p>
<ul>
<li><p>A：如果规则是写在标签的style属性中（内联样式），则A=1，否则，A=0. 对于内联样式，由于没有选择器，所以B、C、D的值都为0，即A=1, B=0, C=0, D=0（简写为1,0,0,0，下同）；</p>
</li>
<li><p>B：计算该选择器中ID的数量。（例如，#header 这样的选择器，计算为0, 1, 0, 0）；</p>
</li>
<li><p>C：计算该选择器中伪类及其它属性的数量（包括class、属性选择器等，不包括伪元素）。 （例如，.logo[id=’site-logo’] 这样的选择器，计算为0, 0, 2, 0）</p>
</li>
<li><p>D：计算该选择器中伪元素及标签的数量。（例如，p:first-letter 这样的选择器，计算为0, 0, 0, 2）</p>
</li>
</ul>
<p>根据规范，计算权重值时，A,B,C,D四组值，从左到右，分组比较，如果A相同，比较B，如果B相同，比较C，如果C相同，比较D，如果D相同，后定义的优先</p>
<p>3、总结</p>
<ul>
<li><p>一条样式规则的整体权重值包含四个独立的部分：[A, B, C, D];</p>
</li>
<li><p>A表示内联样式，只有1或者0两个值；</p>
</li>
<li><p>B表示规则中ID的数量；</p>
</li>
<li><p>C表示规则中除了ID、标签和伪元素以外的其它选择器数量；</p>
</li>
<li><p>D表示规则中标签和伪元素的数量；</p>
</li>
<li><p><em>比较时从高位到低位（从A到D）分别比较，高位相同才需要比较低位</em>；</p>
</li>
<li><p>有 !important 标记的属性权重值无视没用 !important 指定的一切情况；</p>
</li>
<li><p>多次指定 !important 时，相互抵销。</p>
</li>
</ul>
<hr>
<h2 id="怪异问题"><a href="#怪异问题" class="headerlink" title="怪异问题"></a>怪异问题</h2><h3 id="1px-on-retina"><a href="#1px-on-retina" class="headerlink" title="1px on retina"></a>1px on retina</h3><p>1、现象描述</p>
<ul>
<li>设置<code>border: 1px solid #ccc</code>来实现1px边框</li>
<li>但是在retina屏上因为设备像素比的不同，边框在移动设备上的表现也不相同：1px可能会被渲染成1.5px, 2px, 2.5px, 3px….，在用户体验上略差</li>
<li>直接表现为四周边框粗细不一致，可能上面和左边的边框线比右边和下面的边框线细，也有可能直接就是0px</li>
</ul>
<p>2、原因分析</p>
<ul>
<li>引起该问题的原因还是在于设备DPR不一样</li>
</ul>
<p>3、解决方案</p>
<ul>
<li>将边框设置为<code>0.5px</code>，适用于IE8+</li>
<li>优点是原生、支持圆角</li>
<li>缺点是目前只有IOS8+才支持，在IOS7及其以下、安卓系统都是显示为0px</li>
</ul>
<p>4、注意</p>
<ul>
<li>有些机型在<code>1px</code>时显示比较好，但是有些机型显示不佳，如果全一刀切设置为<code>0.5px</code>，可能会引起本来显示正常的机型也异常显示</li>
<li>因此有时候可以视具体情况使用媒体查询来对某些机型做特殊hack处理</li>
</ul>
<hr>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/CSS/">CSS</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/CSS/">CSS</a>
  </div>

        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">留言</h1>

  
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:chenjiefly.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2016/06/27/jquery/">jquery源码分析</a>
      </li>
    
      <li>
        <a href="/2016/06/27/html/">HTML相关知识</a>
      </li>
    
      <li>
        <a href="/2016/06/23/css/">CSS知识小记</a>
      </li>
    
      <li>
        <a href="/2016/06/23/jsPerformance/">Javascript 性能分析和提升技巧</a>
      </li>
    
      <li>
        <a href="/2016/06/22/chromeExtension/">chrome 浏览器常用扩展应用</a>
      </li>
    
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/CSS/">CSS</a><small>1</small></li>
  
    <li><a href="/categories/Javascript/">Javascript</a><small>7</small></li>
  
    <li><a href="/categories/博客/">博客</a><small>1</small></li>
  
    <li><a href="/categories/基础知识/">基础知识</a><small>1</small></li>
  
    <li><a href="/categories/工具/">工具</a><small>4</small></li>
  
    <li><a href="/categories/技术/">技术</a><small>2</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/CSS/">CSS</a><small>1</small></li>
  
    <li><a href="/tags/Canvas/">Canvas</a><small>1</small></li>
  
    <li><a href="/tags/HTML/">HTML</a><small>1</small></li>
  
    <li><a href="/tags/JS性能/">JS性能</a><small>1</small></li>
  
    <li><a href="/tags/chrome/">chrome</a><small>1</small></li>
  
    <li><a href="/tags/debug/">debug</a><small>1</small></li>
  
    <li><a href="/tags/fresh/">fresh</a><small>1</small></li>
  
    <li><a href="/tags/git/">git</a><small>1</small></li>
  
    <li><a href="/tags/gitbook/">gitbook</a><small>1</small></li>
  
    <li><a href="/tags/hexo/">hexo</a><small>1</small></li>
  
    <li><a href="/tags/jquery/">jquery</a><small>1</small></li>
  
    <li><a href="/tags/network/">network</a><small>1</small></li>
  
    <li><a href="/tags/react/">react</a><small>1</small></li>
  
    <li><a href="/tags/regExp/">regExp</a><small>1</small></li>
  
    <li><a href="/tags/software/">software</a><small>1</small></li>
  
    <li><a href="/tags/threejs/">threejs</a><small>1</small></li>
  
    <li><a href="/tags/tools/">tools</a><small>1</small></li>
  
    <li><a href="/tags/提效/">提效</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2016 chenjiefly
  
  
</div>
<div class="clearfix"></div></footer>
  <script src="//libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'chenjiefly';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->



</body>
</html>