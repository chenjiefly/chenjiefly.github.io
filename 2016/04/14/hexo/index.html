<!DOCTYPE HTML>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>搭建hexo + github 个人博客 | chenjiefly的博客</title>
  <meta name="author" content="chenjiefly">
  
  <meta name="description" content="记录使用hexo博客系统，在github上搭建个人博客">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="搭建hexo + github 个人博客"/>
  <meta property="og:site_name" content="chenjiefly的博客"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="chenjiefly的博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

  
<script type="text/javascript">
    var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "//hm.baidu.com/hm.js?b7eade04c61852edaa0158418c6da079";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>


<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">chenjiefly的博客</a></h1>
  <span class="dash">——</span>
  <h2><a href="/">怠慢不能励精，险躁不能冶性</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">主页</a></li>
    
      <li><a href="https://github.com/chenjiefly">Github</a></li>
    
      <li><a href="/archives">归档</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      
        <img src="">
      
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-04-14T05:44:29.000Z"><a href="/2016/04/14/hexo/">2016-04-14</a></time>
      
      
  
    <h1 class="title">搭建hexo + github 个人博客</h1>
  

    </header>
    <div class="entry">
      
        <div id="toc" class="toc-article">
    <div class="toc-title">本文目录</div>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#搭建hexo个人博客"><span class="toc-text">搭建hexo个人博客</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、官网"><span class="toc-text">一、官网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、本地环境"><span class="toc-text">二、本地环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三、撰写博客"><span class="toc-text">三、撰写博客</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#四、部署到github"><span class="toc-text">四、部署到github</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hexo-主题"><span class="toc-text">hexo 主题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、官方主题集"><span class="toc-text">一、官方主题集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、本博客使用的主题"><span class="toc-text">二、本博客使用的主题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添加文章目录"><span class="toc-text">添加文章目录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、添加目录的模板"><span class="toc-text">一、添加目录的模板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、添加目录样式"><span class="toc-text">二、添加目录样式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添加评论系统"><span class="toc-text">添加评论系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、注册Disqus"><span class="toc-text">一、注册Disqus</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、添加评论"><span class="toc-text">二、添加评论</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#个性化"><span class="toc-text">个性化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、更换网站图标"><span class="toc-text">一、更换网站图标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、首页文章显示摘要"><span class="toc-text">二、首页文章显示摘要</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三、访问统计"><span class="toc-text">三、访问统计</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#杂项"><span class="toc-text">杂项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、标签和分类显示错误"><span class="toc-text">一、标签和分类显示错误</span></a></li></ol></li></ol>
</div>
      
        <ul>
<li>使用hexo博客系统在github上搭建个人博客</li>
<li>改造了<code>hexo-theme-transparent</code>主题</li>
<li>记录了搭建和改造主题过程遇到的问题</li>
</ul>
<img src="/2016/04/14/hexo/logo.png" alt="图片来源：baidu" title="图片来源：baidu">
<a id="more"></a>
<h2 id="搭建hexo个人博客"><a href="#搭建hexo个人博客" class="headerlink" title="搭建hexo个人博客"></a>搭建hexo个人博客</h2><h3 id="一、官网"><a href="#一、官网" class="headerlink" title="一、官网"></a>一、官网</h3><p>官网地址：<a href="https://hexo.io/zh-cn/" target="_blank" rel="external">https://hexo.io/zh-cn/</a></p>
<h3 id="二、本地环境"><a href="#二、本地环境" class="headerlink" title="二、本地环境"></a>二、本地环境</h3><p>1、安装基本环境</p>
<ul>
<li><p>安装git、node.js</p>
</li>
<li><p>安装hexo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>2、创建博客项目</p>
<ul>
<li><p>使用hexo提供的脚手架创建</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>
</li>
<li><p>package.json</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"hexo-site"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.0.0"</span>,</span><br><span class="line">  <span class="attr">"private"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"hexo"</span>: &#123;</span><br><span class="line">    <span class="attr">"version"</span>: <span class="string">"3.2.0"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"hexo"</span>: <span class="string">"^3.2.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-deployer-git"</span>: <span class="string">"^0.1.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-archive"</span>: <span class="string">"^0.1.4"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-category"</span>: <span class="string">"^0.1.3"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-index"</span>: <span class="string">"^0.2.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-tag"</span>: <span class="string">"^0.2.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-renderer-ejs"</span>: <span class="string">"^0.2.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-renderer-marked"</span>: <span class="string">"^0.2.10"</span>,</span><br><span class="line">    <span class="attr">"hexo-renderer-stylus"</span>: <span class="string">"^0.3.1"</span>,</span><br><span class="line">    <span class="attr">"hexo-server"</span>: <span class="string">"^0.2.0"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装依赖包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>
</li>
<li><p>本地启动博客服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo server  </span><br><span class="line">hexo s  # 简写命令</span><br></pre></td></tr></table></figure>
<p>打开<a href="http://localhost:4000/" target="_blank" rel="external">http://localhost:4000/</a>即可观察到博客欢迎页面</p>
</li>
</ul>
<h3 id="三、撰写博客"><a href="#三、撰写博客" class="headerlink" title="三、撰写博客"></a>三、撰写博客</h3><p>1、新建文章</p>
<ul>
<li><p>执行下面命令可以在source/_posts下新建文章</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;文章名&quot;</span><br><span class="line">hexo n  # 简写命令</span><br></pre></td></tr></table></figure>
</li>
<li><p>文章脚手架</p>
<ul>
<li>模板在<code>hexo\scaffolds</code>下的md文件</li>
<li>新建脚手架模板文件后，可以执行<code>hexo new 脚手架名 &quot;文章名&quot;</code>来使用新脚手架来新建文章</li>
</ul>
</li>
</ul>
<p>2、 文章结构<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">tags:</span><br><span class="line">- 标签</span><br><span class="line">categories:</span><br><span class="line">- 分类</span><br><span class="line">photos:</span><br><span class="line">- fancybox图片地址，效果可参考http://ibruce.info/reading/</span><br><span class="line">description: 本文描述</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">上面的文章信息和下面的&lt;!--more--&gt;之间的内容是摘要，只要有摘要，在首页的文章就不会显示全文内容</span><br><span class="line">&lt;!--more--&gt;</span><br><span class="line">以下是文章正文</span><br></pre></td></tr></table></figure></p>
<p>2、生成静态网页</p>
<ul>
<li>清除缓存后执行生成静态资源命令<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 执行下面的命令会在public目录下生成一系列html、css和js等文件</span><br><span class="line">hexo clean  # 先清除缓存</span><br><span class="line">hexo generate</span><br><span class="line">hexo g  # 简写命令</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="四、部署到github"><a href="#四、部署到github" class="headerlink" title="四、部署到github"></a>四、部署到github</h3><ul>
<li><p>配置_config.yml中的github相关信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy: </span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:chenjiefly/chenjiefly.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
</li>
<li><p>执行部署命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br><span class="line">hexo d  # 简写命令</span><br></pre></td></tr></table></figure>
</li>
<li><p><em>注意</em></p>
<ul>
<li>hexo会自动部署到github.io仓库中</li>
<li>博客项目应该托管在另外一个项目中，如my-blog.git，而不是github.io项目</li>
<li>如果博客项目也托管在github.io仓库中<ul>
<li>那么当文章内容有修改执行git push和hexo deploy后很有可能会发生冲突</li>
<li>应尽量避免这种冲突情况的发生，所以博客项目单独托管在其他仓库中</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="hexo-主题"><a href="#hexo-主题" class="headerlink" title="hexo 主题"></a>hexo 主题</h2><h3 id="一、官方主题集"><a href="#一、官方主题集" class="headerlink" title="一、官方主题集"></a>一、官方主题集</h3><ul>
<li>主题集地址：<a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="external">https://github.com/hexojs/hexo/wiki/Themes</a></li>
</ul>
<h3 id="二、本博客使用的主题"><a href="#二、本博客使用的主题" class="headerlink" title="二、本博客使用的主题"></a>二、本博客使用的主题</h3><ul>
<li>hexo-theme-transparent</li>
</ul>
<h2 id="添加文章目录"><a href="#添加文章目录" class="headerlink" title="添加文章目录"></a>添加文章目录</h2><h3 id="一、添加目录的模板"><a href="#一、添加目录的模板" class="headerlink" title="一、添加目录的模板"></a>一、添加目录的模板</h3><p>1、找到布局模板路径</p>
<ul>
<li>文章目录只能添加到layout的post布局上，因为还有详情页上才需要看目录而且能够拿到标题列表</li>
<li>找到主题目录下的<code>layout/_partial/post/</code>目录</li>
</ul>
<p>2、添加目录模板文件</p>
<ul>
<li><p>在该目录下新建<code>toc.ejs</code>文件，内容如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"toc"</span> <span class="attr">class</span>=<span class="string">"toc-article"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"toc-title"</span>&gt;</span>本文目录<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">toc</span>(<span class="attr">item.content</span>, &#123;<span class="attr">list_number:</span> <span class="attr">false</span>&#125;) %&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Hexo提供了toc()帮助函数，用来获取文章的标题列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- toc(str, [options]) %&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>str是文章内容，options有两个参数，一个是class，也就是html标签的class值，默认为toc；一个是list_number，是否显示列表编号，默认值是true。</p>
<p>3、插入toc.ejs模板文件到布局<code>_partial/article.ejs</code>中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">    &lt;div class=&quot;entry&quot;&gt;</span><br><span class="line">      &lt;% if (item.excerpt &amp;&amp; index)&#123; %&gt;</span><br><span class="line">        &lt;%- item.excerpt %&gt;</span><br><span class="line">      &lt;% &#125; else &#123; if (item.toc !== false) &#123;%&gt;</span><br><span class="line">        &lt;%- partial(&apos;post/toc&apos;) %&gt;</span><br><span class="line">      &lt;% &#125; %&gt;</span><br><span class="line">        &lt;%- item.content %&gt;</span><br><span class="line">      &lt;% &#125; %&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">......</span><br></pre></td></tr></table></figure></p>
<h3 id="二、添加目录样式"><a href="#二、添加目录样式" class="headerlink" title="二、添加目录样式"></a>二、添加目录样式</h3><ul>
<li>由于布局限制，文章页面右侧为搜索、分类和标签，因此将目录放在文章右上角，并提供hover展开功能</li>
<li>样式代码请参考<ul>
<li><a href="https://github.com/chenjiefly/my-blog/blob/master/themes/hexo-theme-transparent/source/css/_partial/toc.styl" target="_blank" rel="external">https://github.com/chenjiefly/my-blog/blob/master/themes/hexo-theme-transparent/source/css/_partial/toc.styl</a></li>
</ul>
</li>
</ul>
<p>文章目录相关代码参考自<a href="http://www.ituring.com.cn/article/199624" target="_blank" rel="external">http://www.ituring.com.cn/article/199624</a></p>
<h2 id="添加评论系统"><a href="#添加评论系统" class="headerlink" title="添加评论系统"></a>添加评论系统</h2><h3 id="一、注册Disqus"><a href="#一、注册Disqus" class="headerlink" title="一、注册Disqus"></a>一、注册Disqus</h3><ul>
<li>在Disqus上注册账号</li>
<li>注册完成后，选择universal code创建新站点后，会获得一串脚本代码（下面的添加评论方法一：手动添加中会用到），参考如下</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;disqus_thread&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">/**</span><br><span class="line">* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.</span><br><span class="line">* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables</span><br><span class="line">*/</span><br><span class="line">/*</span><br><span class="line">var disqus_config = function () &#123;</span><br><span class="line">this.page.url = PAGE_URL; // Replace PAGE_URL with your page&apos;s canonical URL variable</span><br><span class="line">this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page&apos;s unique identifier variable</span><br><span class="line">&#125;;</span><br><span class="line">*/</span><br><span class="line">(function() &#123; // DON&apos;T EDIT BELOW THIS LINE</span><br><span class="line">var d = document, s = d.createElement(&apos;script&apos;);</span><br><span class="line"></span><br><span class="line">s.src = &apos;//your_short_name.disqus.com/embed.js&apos;;</span><br><span class="line"></span><br><span class="line">s.setAttribute(&apos;data-timestamp&apos;, +new Date());</span><br><span class="line">(d.head || d.body).appendChild(s);</span><br><span class="line">&#125;)();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;noscript&gt;Please enable JavaScript to view the &lt;a href=&quot;https://disqus.com/?ref_noscript&quot; rel=&quot;nofollow&quot;&gt;comments powered by Disqus.&lt;/a&gt;&lt;/noscript&gt;</span><br></pre></td></tr></table></figure>
<h3 id="二、添加评论"><a href="#二、添加评论" class="headerlink" title="二、添加评论"></a>二、添加评论</h3><p>1、方法一：手动添加</p>
<ul>
<li>找到<code>layout/_partial/comment.js</code>目录</li>
<li>将上述代码添加到comment.js尾部即可</li>
<li>此方法可以在首页置顶文章尾部和每篇文章详情页尾部添加评论框</li>
</ul>
<p>2、方法二：hexo配置</p>
<ul>
<li>直接在hexo的根目录配置文件中添加配置项</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">disqus_shortname: your_short_name</span><br></pre></td></tr></table></figure>
<ul>
<li>此方法可以在每篇文章详情页尾部添加评论框，但是在首页置顶文章的评论框无法显示</li>
</ul>
<h2 id="个性化"><a href="#个性化" class="headerlink" title="个性化"></a>个性化</h2><h3 id="一、更换网站图标"><a href="#一、更换网站图标" class="headerlink" title="一、更换网站图标"></a>一、更换网站图标</h3><p>1、找到图标修改文件路径<br><code>hexo\themes\hexo-theme-transparent\layout\_partial\head.ejs</code></p>
<p>2、找到网站图标代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 可以是.ico也可以是.png</span><br><span class="line">&lt;link href=&quot;&lt;%- config.root %&gt;favicon.ico&quot; rel=&quot;icon&quot;&gt;</span><br></pre></td></tr></table></figure></p>
<p>3、制作icon</p>
<ul>
<li>可使用<a href="http://www.bitbug.net/" target="_blank" rel="external">比特虫</a>网站制作</li>
</ul>
<p>4、网站图标icon添加到工程</p>
<ul>
<li>将图标文件放到<code>hexo\source</code>目录下，与<code>_posts</code>平级</li>
<li>执行<code>hexo g</code>命令后会自动将该图标拷贝到public目录下</li>
</ul>
<h3 id="二、首页文章显示摘要"><a href="#二、首页文章显示摘要" class="headerlink" title="二、首页文章显示摘要"></a>二、首页文章显示摘要</h3><p>1、默认情况</p>
<ul>
<li>默认情况下博客首页会显示每一篇文章的全部内容，这样比较影响阅读</li>
</ul>
<p>2、首页文章只显示摘要和更多</p>
<ul>
<li>只要在文章中添加摘要，那么在首页文章就不会显示全文，而是只显示摘要内容和更多内容按钮</li>
<li><code>&lt;!--more--&gt;</code>的前面是摘要，后面的内容是正文</li>
</ul>
<h3 id="三、访问统计"><a href="#三、访问统计" class="headerlink" title="三、访问统计"></a>三、访问统计</h3><p>1、百度统计</p>
<ul>
<li>在<code>hexo\themes\your_theme\_config.yml</code>中添加配置项<code>baidu_tongji: true</code></li>
<li>在<code>hexo\themes\your_theme\layout\_partial\</code>中新建文件<code>baidu_tongji.ejs</code>，内容如下</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.baidu_tongji)&#123; %&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line"># 注册百度统计后获得的统计代码</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>到<a href="http://tongji.baidu.com/" target="_blank" rel="external">http://tongji.baidu.com/</a>上注册百度统计</p>
</li>
<li><p>在<code>hexo\themes\your_theme\layout\_partial\head.ejs</code>中的<code>&lt;/head&gt;</code>前添加下面代码</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial(&apos;baidu_tongji&apos;) %&gt;</span><br><span class="line">`</span><br><span class="line"></span><br><span class="line">2、不蒜子——站内访问统计</span><br><span class="line"></span><br><span class="line">### 四、markdown显示优化</span><br><span class="line">1、表格线优化</span><br><span class="line">* 在`themes/your_theme/source/css/_partial/article.styl`文件内的`.entry`选择器下添加表格如下样式</span><br><span class="line">* 下面样式可以将表格显示为1px的实线框，且100%拉伸显示</span><br></pre></td></tr></table></figure>
<p>table<br>  width 100%<br>  border-collapse collapse</p>
<p>  th, td<br>    border 1px solid white<br>```</p>
<h2 id="杂项"><a href="#杂项" class="headerlink" title="杂项"></a>杂项</h2><h3 id="一、标签和分类显示错误"><a href="#一、标签和分类显示错误" class="headerlink" title="一、标签和分类显示错误"></a>一、标签和分类显示错误</h3><p>1、问题描述</p>
<ul>
<li>可能经常发生分类和标签错误、重复，以及点击跳转后404的情况</li>
<li>主要问题在于文章中的标签设置错误后，但因为已经generate，所以错误的标签和分类已存在，此时改正后重新编译，错误的标签和分类仍旧存在</li>
</ul>
<p>2、解决</p>
<ul>
<li>先移除博客根目录下的<code>.deploy_git</code>文件夹和<code>db.json</code>文件</li>
<li>然后清理下<code>public</code>目录下的<code>categories</code>和<code>tags</code>两个文件夹里的文件</li>
<li>最后重新编译生成静态博客</li>
</ul>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/博客/">博客</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/hexo/">hexo</a>
  </div>

        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">留言</h1>

  
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:chenjiefly.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2016/06/27/jquery/">jquery源码分析</a>
      </li>
    
      <li>
        <a href="/2016/06/27/html/">HTML相关知识</a>
      </li>
    
      <li>
        <a href="/2016/06/23/css/">CSS知识小记</a>
      </li>
    
      <li>
        <a href="/2016/06/23/jsPerformance/">Javascript 性能分析和提升技巧</a>
      </li>
    
      <li>
        <a href="/2016/06/22/chromeExtension/">chrome 浏览器常用扩展应用</a>
      </li>
    
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/CSS/">CSS</a><small>1</small></li>
  
    <li><a href="/categories/Javascript/">Javascript</a><small>7</small></li>
  
    <li><a href="/categories/博客/">博客</a><small>1</small></li>
  
    <li><a href="/categories/基础知识/">基础知识</a><small>1</small></li>
  
    <li><a href="/categories/工具/">工具</a><small>4</small></li>
  
    <li><a href="/categories/技术/">技术</a><small>2</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/CSS/">CSS</a><small>1</small></li>
  
    <li><a href="/tags/Canvas/">Canvas</a><small>1</small></li>
  
    <li><a href="/tags/HTML/">HTML</a><small>1</small></li>
  
    <li><a href="/tags/JS性能/">JS性能</a><small>1</small></li>
  
    <li><a href="/tags/chrome/">chrome</a><small>1</small></li>
  
    <li><a href="/tags/debug/">debug</a><small>1</small></li>
  
    <li><a href="/tags/fresh/">fresh</a><small>1</small></li>
  
    <li><a href="/tags/git/">git</a><small>1</small></li>
  
    <li><a href="/tags/gitbook/">gitbook</a><small>1</small></li>
  
    <li><a href="/tags/hexo/">hexo</a><small>1</small></li>
  
    <li><a href="/tags/jquery/">jquery</a><small>1</small></li>
  
    <li><a href="/tags/network/">network</a><small>1</small></li>
  
    <li><a href="/tags/react/">react</a><small>1</small></li>
  
    <li><a href="/tags/regExp/">regExp</a><small>1</small></li>
  
    <li><a href="/tags/software/">software</a><small>1</small></li>
  
    <li><a href="/tags/threejs/">threejs</a><small>1</small></li>
  
    <li><a href="/tags/tools/">tools</a><small>1</small></li>
  
    <li><a href="/tags/提效/">提效</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2016 chenjiefly
  
  
</div>
<div class="clearfix"></div></footer>
  <script src="//libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'chenjiefly';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->



</body>
</html>